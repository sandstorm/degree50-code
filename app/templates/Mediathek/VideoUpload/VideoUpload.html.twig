{% extends 'BaseFullscreen.html.twig' %}

{% block title %}{{ "video.upload.title"|trans({}, 'base') }}{% endblock %}
{% block layoutCssClass %}main--with-footer{% endblock %}

{% block body %}
    <div class="container">
        <header class="content-header content-header--center">
            <h3>{{ "video.upload.title"|trans({}, 'base') }}</h3>
        </header>
        <div class="dropzone" data-controller="videoUpload"
             data-videoUpload-endpoint="{{ oneup_uploader_endpoint('uploaded_videos') }}"
             data-videoUpload-remove-endpoint="{{ path('mediathek__video--delete-ajax', {id: uuid}) }}"
             data-videoUpload-id="{{ uuid }}"
             data-videoUpload-label="{{ "video.upload.uploadVideo"|trans({}, 'base') }}">
            <i class="fas fa-spinner fa-spin"></i>
        </div>
        <span class="form-text text-muted">
            {{ "video.upload.onlyOneVideo"|trans({}, 'base') }} <br />
            <strong>{{ "common.hint"|trans({}, 'base') }}:</strong> {{ "video.upload.timeoutHint"|trans({}, 'base') }}
        </span>
    </div>
    <div class="container">
        <header class="content-header content-header--center">
            <h3>{{ "video.upload.subtitleUploadTitle"|trans({}, 'base') }}</h3>
        </header>
        <div class="dropzone" data-controller="subtitleUpload"
             data-subtitleUpload-endpoint="{{ oneup_uploader_endpoint('uploaded_subtitles') }}"
             data-subtitleUpload-remove-endpoint="{{ path('mediathek__subtitle--delete-ajax', {id: uuid}) }}"
             data-subtitleUpload-video-id="{{ uuid }}"
             data-subtitleUpload-label="{{ "video.upload.uploadSubtitle"|trans({}, 'base') }}">
            <i class="fas fa-spinner fa-spin"></i>
        </div>
        <span class="form-text text-muted">
            {{ "video.upload.onlyOneSubtitle"|trans({}, 'base') }} <br />
            {{ "video.upload.subtitlesOptional"|trans({}, 'base') }} <br />
            <strong>{{ "common.hint"|trans({}, 'base') }}:</strong> {{ "video.upload.timeoutHint"|trans({}, 'base') }}
        </span>
    </div>
    <div class="container">
        <header class="content-header content-header--center">
            <h3>{{ "video.upload.audioDescriptionUploadTitle"|trans({}, 'base') }}</h3>
        </header>
        <div class="dropzone" data-controller="audioDescriptionUpload"
             data-audioDescriptionUpload-endpoint="{{ oneup_uploader_endpoint('uploaded_audio_descriptions') }}"
             data-audioDescriptionUpload-remove-endpoint="{{ path('mediathek__audio_description--delete-ajax', {id: uuid}) }}"
             data-audioDescriptionUpload-video-id="{{ uuid }}"
             data-audioDescriptionUpload-label="{{ "video.upload.uploadAudioDescription"|trans({}, 'base') }}">
            <i class="fas fa-spinner fa-spin"></i>
        </div>
        <span class="form-text text-muted">
            {{ "video.upload.onlyOneAudioDescription"|trans({}, 'base') }} <br />
            {{ "video.upload.audioDescriptionOptional"|trans({}, 'base') }} <br />
            <strong>{{ "common.hint"|trans({}, 'base') }}:</strong> {{ "video.upload.timeoutHint"|trans({}, 'base') }}
        </span>
    </div>

    {{ form_start(form) }}
        <div class="container">
            {{ form_row(form.title) }}
            {{ form_row(form.description) }}
            {{ form_row(form.visiblePersons) }}
            {{ form_row(form.courses) }}
            <div class="form__data-privacy">
                {{ form_row(form.dataPrivacyAccepted) }}
                {{ form_row(form.dataPrivacyPermissionsAccepted) }}
                <a href="{{ path('data-privacy') }}" target="_blank">{{ "common.dataPrivacy"|trans({}, 'base') }}</a> | <a href="{{ path('terms-of-use') }}" target="_blank">{{ "common.termsOfUse"|trans({}, 'base') }}</a>
            </div>
        </div>
        <footer class="footer">
            <a class="button button--type-outline-primary footer__left"
               href="{{ path('mediathek--index') }}">{{ "video.upload.back"|trans({}, 'base') }}</a>
            <div class="footer__right">
                {{ form_row(form.save) }}
            </div>
        </footer>
    {{ form_end(form) }}
{% endblock %}
